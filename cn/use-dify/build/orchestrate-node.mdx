---
title: "流程逻辑"
icon: "diagram-project"
---

<Note> ⚠️ 本文档由 AI 自动翻译。如有任何不准确之处，请参考[英文原版](/en/use-dify/build/orchestrate-node)。</Note>


## 串行与并行执行

![](https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/3984e13db72e2bd19870f5764ec000cf.jpeg)

流程根据节点连接方式的不同而以不同的方式执行。

当你将节点一个接一个地连接时，它们按顺序执行。每个节点都会等待前一个节点完成后再开始。每个节点都可以使用链中在它之前运行的任何节点的变量。

![](https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/e8e884e146994b5f95cb16ec31cdd81b.png)

当你将多个节点连接到同一个起始节点时，它们会同时运行。节点不能引用并行节点的输出。

![](https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/5ba85864454880561ec95a37db382f20.png)

<Note>
一个节点最多可以有 10 个并行分支，最多支持 3 层嵌套并行结构。
</Note>

## 变量访问

在串行流程中，节点可以访问链中任何前序节点的变量。

在并行流程中，节点可以访问并行分割之前运行的节点的变量，但它们无法访问其他并行节点的变量，因为这些节点是同时运行的。

并行分支完成后，下游节点可以访问所有并行输出的变量。

## 回答节点流式传输

回答节点以不同方式处理并行输出。当回答节点引用来自多个并行分支的变量时，它会逐步流式传输内容：

- 内容流式传输到第一个未解析的变量
- 一旦该变量的节点完成，流式传输继续到下一个未解析的变量
- 回答节点中变量的顺序决定流式传输序列，而不是节点执行顺序

例如，在一个流程中，`节点 A -> 节点 B -> 回答`，回答包含 `{{B}}` 然后 `{{A}}`，回答将等待节点 B 完成后再流式传输任何内容，即使节点 A 先完成。
