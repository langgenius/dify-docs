---
title: "ステップ1：ナレッジパイプラインの作成"
---

![ナレッジベースパイプラインの作成](/images/knowledge-base/create-knowledge-pipeline-1.png)

画面上部の**ナレッジベース**をクリックし、左メニューから**ナレッジベースパイプラインから作成**を選択します。開始方法は以下の3通りです。

### 1. ゼロから作成する

![ゼロから構築](/images/knowledge-base/create-knowledge-pipeline-2.png)

**空白のナレッジベースパイプライン**をクリックすると、カスタムパイプラインを一から構築できます。特定のデータソースやビジネス要件に合わせた処理戦略が必要な場合に選択します。

### 2. テンプレートから作成する

Difyは2種類のテンプレートを提供しています：**内部パイプライン**と**カスタマイズ済み**。どちらもカード上にナレッジベース名、説明、タグ（チャンキング構造など）が表示されます。

![](/images/knowledge-base/create-knowledge-pipeline-4-1.png)

#### 内部パイプライン（Built-in Pipeline）

内部パイプラインはDify公式があらかじめ用意したナレッジベーステンプレートで、一般的なドキュメント構造やユースケースに最適化されています。使用したいテンプレートの「選択」をクリックするだけで導入できます。

![内部テンプレート](/images/knowledge-base/create-knowledge-pipeline-4.png)

**テンプレートの種類**

| テンプレート名 | チャンキング構造 | インデックス方式 | 検索設定 | 説明 |
|---------------|------------------|------------------|----------|------|
| 汎用分割モード<br/>（General Mode） | 汎用モード | 省リソース | 逆インデックス | ドキュメントを小さな段落へ分割し、ユーザークエリのマッチングと直接検索に利用されます。 |
| 親子分割モード<br/>（Parent-child Structure） | 親子モード | 高品質 | ハイブリッド検索 | ドキュメントを大きな親チャンクと小さな子チャンクに分割。親チャンクが子チャンクを包含し、検索精度と文脈整合性の両立を実現します。 |
| 簡単なQ&A<br/>（Simple Q&A） | Q&Aモード | 高品質 | ベクター検索 | 表形式データをQ&A形式へと変換し、質問マッチングを通じて迅速に回答が取得できます。 |
| 複雑なPDF（画像やテーブルを含む）<br/>（Complex PDF with Images & Tables） | 親子モード | 高品質 | ハイブリッド検索・重み付けスコア | PDF内の画像や表の内容も抽出可能です。 |
| LLMによる文脈強化<br/>（Contextual Enrichment Using LLM） | 親子モード | 高品質 | ハイブリッド検索・重み付けスコア | ドキュメントから画像や表を抽出し、LLMで説明注釈を自動生成して文脈を高度に強化します。 |
| Markdownへの変換<br/>（Convert to Markdown） | 親子モード | 高品質 | ハイブリッド検索・重み付けスコア | DOCX、XLSX、PPTXほかOfficeファイルをMarkdownへ変換し、情報処理を最適化します。※PDFは推奨されません。 |
| LLMによるQ&Aの自動生成<br/>（LLM Generated Q&A） | Q&Aモード | 高品質 | ベクター検索 | LLMによるQ&Aペアを原文テキストから自動生成し、質問マッチングで関連回答を検索します。 |

テンプレートカードの「詳細」ボタンをクリックすると、ポップアップでオーケストレーション構造、パイプライン説明、チャンキング構造を確認できます。内容を確認して**このナレッジベースパイプラインを使用**をクリックすれば、そのテンプレートでオーケストレーションを開始できます。

![テンプレート詳細](/images/knowledge-base/create-knowledge-pipeline-5.png)

#### カスタマイズ済み（Customized）

![カスタマイズ済みテンプレート](/images/knowledge-base/create-knowledge-pipeline-6.png)

カスタマイズ済みテンプレートはユーザーが作成・公開したナレッジパイプラインです。テンプレートの選択、DSLのエクスポート、詳細情報の確認が可能です。

![テンプレート操作](/images/knowledge-base/create-knowledge-pipeline-7.png)

テンプレートカードの**選択**または詳細プレビューから**このナレッジベースパイプラインを使用**を押せば、そのテンプレートでナレッジベースを作成できます。「…」メニューから、情報編集・ナレッジパイプラインのエクスポート・テンプレート削除も可能です。

### 3. ナレッジパイプラインをインポートする

![ナレッジパイプラインのインポート](/images/knowledge-base/create-knowledge-pipeline-3.png)

以前にエクスポートしたナレッジパイプラインのDSLファイルをインポートすれば、既存の設定を再利用したり、異なるシナリオ向けに修正を加えたりできます。画面左下の**DSLファイルからインポート**をクリックしてください。

ナレッジパイプラインのオーケストレーションが完了したら、ナレッジパイプラインを保存してエクスポートし、他のユーザーと共有できます。ナレッジベースユーザーは、ナレッジパイプラインをインポートすることで、既存のナレッジパイプラインを迅速に再利用し、さまざまなシナリオやニーズに合わせて変更できます。ナレッジパイプラインも同様のYAMLフォーマットでワークフローや構成を定義します。

ナレッジパイプラインには、以下のものが含まれます：

| 項目 | 説明 |
|------|------|
| データソース | ローカルファイル、ウェブサイト、オンラインドキュメント、オンラインドライブ、ウェブクローラー |
| データ処理 | ドキュメント抽出、コンテンツ分割、クリーニング戦略 |
| ナレッジベース設定 | インデックス方式、検索設定、保存パラメータ |
| ノードオーケストレーション | ノードの配置および処理順序（ノードは処理の実行単位です） |
| ユーザー入力フォーム | カスタムパラメータ入力フィールド（設定がある場合） |

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

---

[このページを編集](https://github.com/langgenius/dify-docs/edit/main/ja-jp/guides/knowledge-base/knowledge-pipeline/create-knowledge-pipeline.mdx) | [問題を報告](https://github.com/langgenius/dify-docs/issues/new?template=docs.yml)
