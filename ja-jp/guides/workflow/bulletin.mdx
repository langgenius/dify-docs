---
title: 変更のお知らせ：画像アップロードがファイルアップロードに統合されました
description: 作者：Evanchen ,  Allen.
---

今後、画像ファイルのアップロード機能がより全面的な「ファイルアップロード」機能に統合されます。重複な機能を避けるため、チャットフローとワークフローの「機能」をアップグレードし、調整しました：

* チャットフローの「機能」から画像アップロードオプションを削除し、新たに「ファイルアップロード」機能を追加します。この機能は、画像ファイルタイプを選択できます。また、アプリのダイアログボックス内の画像アップロードアイコンもファイルアップロードアイコンに変更されました。

<img
  src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/90c0e2d9ac9c16b493bb4793b90df548.png"
  className="mx-auto"
  alt="チャットフローの機能メニュー"
/>

* **ワークフローの機能および`sys.files`[変数](./variables.md)にあった画像アップロードオプションは、将来的に廃止されます。** 両方とも`LEGACY`としてマークされ、開発者にはワークフローにファイルアップロード機能を追加するためにカスタムファイル変数の使用が推奨されています。

<img
  src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/befa0580cd0b7ab312c2fe85f6fc2ac7.png"
  className="mx-auto"
  alt="ワークフローのLEGACY機能表示"
/>

### 「画像アップロード」機能を統合する理由

以前、Difyは画像ファイルのアップロードのみをサポートしていましたが、最新バージョンでは文書、画像、音声、映像、カスタムファイル形式をサポートする包括的なファイルアップロード機能が導入されました。画像アップロードは、より包括的な「ファイルアップロード」機能に統合されました。 ファイルアップロード機能を追加する際、開発者は「画像」ファイルタイプを選択するだけで画像のアップロードを有効にできます。

冗長な機能による混乱を避けるため、チャットフローにおける単独の画像アップロード機能を包括的なファイルアップロード機能に置き換え、ワークフローにおいて画像アップロードを推奨しないことに決定しました。

### より全面的な機能：ファイルアップロード

アプリの情報処理能力を向上させるために、このアップデートで「ファイルアップロード」機能が導入されました。チャットテキストとは異なり、文書ファイルは学術レポートや法的契約など多くの情報を運搬することができます。

* ファイルアップロード機能により、ファイルはワークフロー内でファイル変数としてアップロード、解析、参照、ダウンロードされます。
* 開発者は、画像、音声、映像を含む複雑なタスクの理解と処理が可能なアプリを簡単に構築できます。

<img
  src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/f137939601f9d95112e27ad27cb2aa3a.png"
  className="mx-auto"
  alt="ファイルアップロード機能の設定画面"
/>

単独の「画像アップロード」機能の使用を推奨せず、アプリ体験を向上させるために包括的な「ファイルアップロード」機能への移行をお勧めします。

### あなたがするべきことは？

#### Dify Cloudユーザーの場合：

* **チャットフロー**

すでに「画像アップロード」機能が有効になっているチャットフローを作成した場合、LLMノードでビジョン機能を有効にすると、システムは機能を自動的に切り替え、アプリの画像アップロード機能に影響を与えません。アプリを更新して再公開する必要がある場合は、LLMノードのビジョン変数選択ボックスでファイル変数を選択し、チェックリストからアイテムをクリアしてアプリを再公開してください。

<img
  src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/93f533be37a1f936879379fcaabc2b45.png"
  className="mx-auto"
  alt="LLMノードのビジョン機能設定"
/>

チャットフローに「画像アップロード」機能を追加したい場合は、機能で「ファイルアップロード」を有効にし、「画像」ファイルタイプのみを選択してください。その後、LLMノードでビジョン機能を有効にし、sys.files変数を指定してください。アップロードエントリは「ペーパークリップ」アイコンとして表示されます。詳細な手順については、追加機能を参照してください。

<img
  src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/e64569e7d240bf453308e86ec0573178.png"
  className="mx-auto"
  alt="ファイルアップロードの設定方法"
/>

* **ワークフロー**

すでに「画像アップロード」機能が有効になっているワークフローを作成し、LLMノードでビジョン機能を有効にした場合、この変更は直ちには影響しませんが、公式の廃止前に手動で移行を完了する必要があります。

ワークフローに「画像アップロード」機能を有効にしたい場合は、[開始](./node/start.md)ノードにファイル変数を追加してください。その後、`sys.files`変数を使用せずに後続ノードでこのファイル変数を参照してください。

#### Dify Community Editionまたは自己ホストのエンタープライズユーザーの場合：

バージョンv0.10.0にアップグレードすると、「ファイルアップロード」機能が表示されます。

* チャットフロー：

「画像アップロード」機能が有効になっているチャットフローは、変更を加えることなくファイルアップロード機能に自動的に切り替わります。

チャットフローに「画像アップロード」機能を追加したい場合は、詳細な手順については追加機能セクションを参照してください。

* ワークフロー：

既存のワークフローには影響がありませんが、公式の廃止前に手動で移行を完了する必要があります。

### よくある質問：

#### 1. このアップデートは既存のアプリに影響しますか？

* 既存のチャットフローは自動的に移行され、画像のアップロード機能はファイルのアップロード機能にスムーズに切り替わります。`sys.files`変数は引き続きデフォルトのVision入力として使用されます。アプリインターフェース内の画像アップロードエントリは、ファイルアップロードエントリに置き換えられます。
* 現時点では既存のワークフローには影響はありません。`sys.files`変数および画像アップロード機能は「LEGACY」としてマークされていますが、引き続き使用可能です。ただし、これらの「LEGACY」機能は将来的に廃止される予定で、その際には手動でのアップデートが必要になります。

#### 2. アプリをすぐにアップデートする必要がありますか？

* チャットフローはシステムが自動的に移行するため、手動でのアップデートは必要ありません。
* ワークフローについては、すぐにアップデートする必要はありませんが、将来の移行に備えて新しいファイルアップロード機能に慣れておくことをお勧めします。

#### 3. 新しいファイルアップロード機能と互換性のあるアプリを確認する方法は？

チャットフローの場合：

• 機能構成でファイルのアップロードオプションが有効になっているか確認してください。

• Vision機能を備えたLLMを使用していることを確認し、Visionトグルをオンにしてください。

• Visionボックスで、`sys.files`が入力アイテムとして正しく選択されていることを確認してください。

ワークフローの場合：

• 「開始」ノードでファイルタイプの変数を作成してください。

• 後続のノードでは、このファイル変数を参照し、LEGACYの`sys.files`変数は使用しないでください。

#### 4. 以前公開された Chatflow アプリケーションで画像アップロードアイコンが消えた場合、どうすればよいですか？

アプリケーションを再公開することをお勧めします。チャットボックスにファイルアップロードアイコンが表示されます。

#### 皆様のフィードバックを大切にしています

Difyコミュニティの重要なメンバーとして、皆様の経験とフィードバックは私たちにとって非常に重要です。ぜひ以下の方法でご意見をお寄せください：

• 新しいファイルアップロード機能をお試しいただき、その利便性と柔軟性を体験してください。

• 次のチャンネルを通じてお考えやご提案を共有してください：

• [GitHub discussions](https://github.com/langgenius/dify)

• [Discordチャンネル](https://discord.gg/X8r5WgWzJV)

皆様のフィードバックは製品の継続的な改善と、コミュニティ全体により良い体験を提供するために役立ちます。
