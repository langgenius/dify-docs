---
title: パラメータ抽出
version: '日本語'
---

### 定義

大規模言語モデル（LLM）を利用して自然言語から推論し、構造化パラメータを抽出し、ツール呼び出しやHTTPリクエストに用いる。

Difyワークフロー内には豊富な[ツール](/ja-jp/introduction)が用意されており、その多くは構造化パラメータを入力として要求します。パラメータ抽出器は、ユーザーの自然言語をツールが認識できるパラメータに変換し、ツールの呼び出しを容易にします。

ワークフロー内の一部のノードは特定のデータ形式を入力として要求します。例えば[イテレーション](./iteration)ノードの入力は配列形式である必要があり、パラメータ抽出器は[構造化パラメータの変換](./iteration#1)を容易に実現します。

***

### シナリオ

1. **自然言語からツールが必要とするキー・パラメーターを抽出する**例として、簡単な対話形式のArxiv論文検索アプリを構築する場合を考えます。

この例では、Arxiv論文検索ツールの入力パラメータとして「論文の著者」または「論文番号」が要求されます。パラメータ抽出器は「この論文の内容は何ですか：2405.10739」という質問から論文番号**2405.10739**を抽出し、ツールのパラメータとして正確に検索します。

<Frame caption="Arxiv論文検索ツール">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/node/44217718acf8557dc6794d4591afce59.png" alt="Arxiv 论文检索工具流程图" />
</Frame>

2. **テキストを構造化データに変換する**例として、長い物語のイテレーション生成アプリの前工程として、テキスト形式の章内容を配列形式に変換し、[イテレーションノード](./iteration)でのマルチラウンド生成処理を容易にします。

<Frame caption="テキストを構造化データに変換する">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/node/4d59891b3d49ee2040ecfe50640b7292.png" alt="长故事迭代生成应用流程图" />
</Frame>

3. **構造化データを抽出して**[**HTTPリクエスト**](./http-request)**を使用する**ことで、任意のアクセス可能なURLにリクエストを送信し、外部検索結果の取得やウェブフック、画像生成などのシナリオに適用できます。

***

### 設定方法

<Frame caption="パラメータ抽出の設定" width="375">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/jp/guides/workflow/node/560c5a6ddf9e496a9840670a2cad663e.png" alt="参数提取配置界面" />
</Frame>

**設定手順**

1. 入力変数を選択。通常はパラメータ抽出のための変数入力を選びます。ファイルタイプもサポートします。
2. モデルを選択。パラメータ抽出器の抽出はLLMの推論と構造化生成能力に依存します。
3. 抽出パラメータを定義。必要なパラメータを手動で追加するか、**既存のツールから簡単にインポート**できます。
   サポートされるパラメータタイプは `String`、`Number`、`Boolean`、`Object`、`Array[String]`、`Array[Number]`、`Array[Boolean]`、`Array[Object]` です。
4. コマンド作成。複雑なパラメータの抽出時には、例を作成することでLLMの生成効果と安定性を向上させることができます。

**高度な設定**

**推論モード**

一部のモデルは関数/ツール呼び出しや純プロンプトの方法でパラメータ抽出を実現する2つの推論モードをサポートしており、コマンドの遵守能力に違いがあります。例えば、あるモデルが関数呼び出しに不向きな場合、プロンプト推論に切り替えることができます。

* Function Call/Tool Call
* プロンプト

**メモリ**

メモリを有効にすると、問題分類器の各入力にチャット履歴が含まれ、LLMが前文を理解し、対話の中での問題理解能力を向上させます。

**画像**

画像をオープンする。

**出力変数**

* 定義された変数を抽出
* ノード組み込み変数

`__is_success 数値` 抽出が成功した場合は1、失敗した場合は0となります。

`__reason 文字列` 抽出エラーの原因

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

---

[このページを編集する](https://github.com/langgenius/dify-docs/edit/main/ja-jp/guides/workflow/node/parameter-extractor.mdx) | [問題を報告する](https://github.com/langgenius/dify-docs/issues/new?template=docs.yml)

