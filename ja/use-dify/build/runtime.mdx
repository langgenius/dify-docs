---
title: ランタイム
icon: "cube"
---

<Note> ⚠️ このドキュメントはAIによって自動翻訳されています。不正確な部分がある場合は、[英語版](/en/use-dify/build/runtime)を参照してください。</Note>

ランタイムはワークフローが実行される環境で、LLM がアクセス・実行できる範囲を定めます。

Dify は2種類のランタイム環境を提供しています：**サンドボックスランタイム**と**クラシックランタイム**。それぞれ異なるユースケースに最適化されています。

## 概要

<Tabs>
    <Tab title="サンドボックスランタイム">
    <Check>
        **適用シーン：** LLM が自律的に問題を解決する必要がある複雑なタスク。より強力ですが、速度は遅くトークン消費も多くなります。
    </Check>

    サンドボックスランタイムでは、LLM が隔離環境で**コマンドラインを実行**できます。ターミナルでコマンドを使ってできることは、すべて LLM にもできます：

    - **スクリプトやプログラムの実行** - コードを実行してデータを処理し、出力を生成し、あらゆる計算を行う

    - **必要なツールのインストール** - pip やその他のパッケージマネージャーを使ってライブラリやツールをオンデマンドでダウンロード

    - **外部リソースへのアクセス** - URL からファイルを取得、リポジトリのクローン、外部ソースからのデータ取得

    - **ファイルの操作** - [ファイルシステム](/ja/use-dify/build/file-system)内のリソース（[Skill](/ja/use-dify/build/file-system#skill) など）にアクセスし、さまざまな形式のファイルを処理し、スクリプトやツールを使ってマルチモーダルなアーティファクトを生成

    <Tip>
        サンドボックスランタイムでは、Agent ノードがクラシックランタイムにおける LLM ノードと Agent ノードの両方の役割を兼ねます。

        これらの高度な機能が不要な簡単なタスクには、**[Agent モード](/ja/use-dify/nodes/agent#コマンド実行の有効化（agent-モード）)** をオフにすることで、より高速なレスポンスと低いトークンコストを実現できます。
    </Tip>

    **LLM が真の Agent になります**。モデルが十分に強力なツール呼び出しと推論能力を持っている限り、どのコマンドを実行すべきかを自律的に判断し、タスクを完了できます。

    LLM の能力が強力になったからこそ、サンドボックスでの実行が必要です。隔離環境は LLM に十分な自由度を与えつつ、安全な運用を保証します。

    <Info>
        デフォルトのサンドボックスプロバイダー：

        - Dify Cloud は E2B を使用。

        - セルフホスト環境は SSH VM を使用。

        **設定** > **サンドボックスプロバイダー**で他のプロバイダーを選択・設定できます。
    </Info>

    </Tab>
    <Tab title="クラシックランタイム">

    <Check>
        **適用シーン：** シンプルで迅速なタスク。機能は限定的ですが、より高速で効率的です。
    </Check>

    クラシックランタイムでは、LLM が最も得意とすることを行います：情報の分析、テキストの生成、問題の推論、そして事前設定されたツールの自律的な活用によるタスクの完了です。

    特定のツールキットを渡すイメージです——タスクは遂行できますが、**提供されたツールの範囲に限定されます**。

    </Tab>
</Tabs>

## 比較表

| 項目                     | サンドボックスランタイム                    | クラシックランタイム                     |
|:------------------------------|:-------------------------------------|:------------------------------------|
| **適用シーン**                  | 複雑な自律的問題解決  | シンプルで明確なタスク          |
| **LLM の自律度**              | 必要なコマンドを自由に実行            | 設定されたツールを使用            |
| **ファイルシステム**               | ✅                                    | ❌                                  |
| **Skill**                    | ✅                                    | ❌                                  |
| **アプリのエクスポート形式**         | `.zip`（DSL + リソースファイル）        | `.yml`（DSL ファイル）                  |
