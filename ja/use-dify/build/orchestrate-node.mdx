---
title: "フローロジック"
icon: "diagram-project"
---

<Note> ⚠️ このドキュメントはAIによって自動翻訳されています。不正確な部分がある場合は、[英語版](/en/use-dify/build/orchestrate-node)を参照してください。</Note>


## 直列実行と並列実行

![](https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/3984e13db72e2bd19870f5764ec000cf.jpeg)

フローは、ノードの接続方法によって異なる方式で実行されます。

ノードを一つずつ順番に接続すると、シーケンシャルに実行されます。各ノードは、前のノードが完了するまで待機してから開始します。各ノードは、チェーン内で前に実行されたノードの変数を使用できます。

![](https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/e8e884e146994b5f95cb16ec31cdd81b.png)

複数のノードを同じ開始ノードに接続すると、それらはすべて同時に実行されます。ノードは並列ノードの出力を参照できません。

![](https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/5ba85864454880561ec95a37db382f20.png)

<Note>
一つのノードから最大10個の並列ブランチを持つことができ、ネストした並列構造は最大3レベルまで可能です。
</Note>

## 変数アクセス

直列フローでは、ノードはチェーン内の前のノードの変数にアクセスできます。

並列フローでは、ノードは並列分岐前に実行されたノードの変数にはアクセスできますが、同時に実行されているため他の並列ノードの変数にはアクセスできません。

並列ブランチが完了した後、下流のノードはすべての並列出力の変数にアクセスできます。

## 回答ノードのストリーミング

回答ノードは並列出力を異なる方法で処理します。回答ノードが複数の並列ブランチからの変数を参照する場合、コンテンツを段階的にストリーミングします：

- 最初の未解決の変数までコンテンツがストリーミングされます
- その変数のノードが完了すると、次の未解決の変数へのストリーミングが続行されます
- 回答ノード内の変数の順序がストリーミングシーケンスを決定し、ノードの実行順序ではありません

たとえば、`ノード A -> ノード B -> 回答`というフローで、回答に `{{B}}` 、次に `{{A}}` が含まれている場合、ノード A が先に完了しても、回答はノード B が完了するまでコンテンツをストリーミングしません。
