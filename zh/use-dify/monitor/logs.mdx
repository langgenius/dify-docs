---
title: "日志"
icon: "memo"
---

<Note> ⚠️ 本文档由 AI 自动翻译。如有任何不准确之处，请参考[英文原版](/en/use-dify/monitor/logs)。</Note>


对话日志提供对AI应用程序每次交互的详细可见性。使用它们来调试特定问题、了解用户行为模式，并收集反馈以实现持续改进。

## 记录内容

**所有用户交互**
通过你的Web应用程序或API进行的每次对话都会记录完整的输入/输出历史、时序数据和系统元数据。

**用户反馈**
点赞/点踩评级和用户评论会与它们所引用的对话一起被捕获。

**系统上下文**
使用的模型、标记数消耗、响应时间以及处理过程中的任何错误或警告。

**排除项：** 调试会话和提示词测试不包含在日志中。

## 使用日志控制台

从应用程序的导航菜单访问日志。界面显示：

- **对话时间线：** 用户交互的时间顺序列表
- **消息详情：** 包含AI响应的完整对话上下文
- **性能数据：** 每次交互的响应时间和标记数使用情况
- **用户反馈：** 来自用户和团队成员的评级和评论

## 使用日志进行调试

**失败的交互**
快速识别AI提供不佳响应、未能理解用户意图或遇到错误的对话。

**性能问题**
发现影响用户体验的慢响应、高标记数使用或系统错误。

**用户旅程分析**
跟踪个别用户的多次对话，了解使用模式和痛点。

## 反馈收集

**用户评级**
用户可以对AI响应提供点赞/点踩反馈。跟踪满意度趋势随时间的变化。

**团队注释**
团队成员可以直接在日志界面中添加内部注释和改进后的响应。

**反馈分析**
识别常见投诉模式、成功的交互类型和需要改进的领域。

## 数据保留

<Warning>
确保你的应用程序符合当地数据隐私法规。发布隐私政策并在需要时获得用户同意。
</Warning>

- **Sandbox**：日志保留 30 天。

- **Professional & Team**：在订阅期内，日志无限期保留。

- **自托管**：默认无限期保留；可通过环境变量 `WORKFLOW_LOG_CLEANUP_ENABLED`、`WORKFLOW_LOG_RETENTION_DAYS` 和 `WORKFLOW_LOG_CLEANUP_BATCH_SIZE` 配置日志保留策略。

## 使用日志改进应用程序

**模式识别**
寻找你的应用程序处理不佳的重复用户问题。这些表明提示词改进或知识库更新的机会。

**响应质量**
使用反馈模式来识别哪些类型的响应效果良好，哪些需要完善。

**性能优化**
跟踪响应时间和标记数使用情况，以识别低效的提示词或模型配置。

**内容空白**
发现你的应用程序持续苦苦挣扎的主题或问题类型，表明知识库扩展的领域。

## 隐私考虑

日志包含完整的用户对话，可能包含敏感信息。实施适当的访问控制，并确保符合适用的数据保护法规。

对于处理敏感数据的应用程序，考虑配置更短的保留期，或在适当的情况下实施日志匿名化。