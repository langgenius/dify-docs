---
title: "第 10 课：发布和监控你的 AI 应用"
sidebarTitle: 第 10 课
---
经过前九课的学习和搭建，我们的邮件助理已经具备了连接知识库、使用搜索工具、并产出格式化的回复能力。但它现在还是躺在 Dify 的工作室里，只有你能够看到和使用它。

我们如何能够将它分享给其他人使用？如何知道它在实际运行中的表现如何？有没有报错？

这就需要我们完成最后两个关键步骤：发布（Publish) 和监测（Monitor）。

## 发布你的应用
1. 将鼠标移至画布的右上角，点击发布按钮。此时，下方的其他按钮为灰色，点击发布更新。
注意：当你完成修改后，需要保存并发布所有的修改，请点击发布更新。
<Frame>
  <img src="/images/difyworkflow101-lesson10-ublish.png" alt="Publish" />
</Frame>

2. 点击发布更新后，你会发现下方的按钮已经可以点击。
	  a. 分享你的应用
	  点击下方的运行，Dify 会为你生成一个网页（WebApp)，这就是你创建的邮件助理应用界面啦。
	你可以在这里直接使用邮件助理，也可以将链接分享给其他人。他们不需要登录 Dify，就能直接使用你开发的邮件助理了。
<Frame>
  <img src="/images/difyworkflow101-lesson10-webapp.png" alt="Webapp" />
</Frame>

  b. 批量运行
如果你有 100 封邮件需要 AI 处理，一封封复制粘贴效率会非常低，有了批量运行，你只需要把这 100 封邮件整理成一个 CSV 表格文件，上传给 Dify，它就会自动把这 100 封邮件一次性处理完，最后给你一个包含所有结果的表格。
注意：由于在 Workflow 里，我们设定了不同的变量，所以你需要上传指定格式的 CSV 表格文件。你也可以点击下载模版，再往这个模版里填充对应内容。
<Frame>
  <img src="/images/difyworkflow101-lesson10-downloadtemplate.png" alt="Download template" />
</Frame>

  3. 其他连接方式
  在发布菜单中，你可能还会看到其他选项，初学者只需简单了解即可。
  - 访问 API：如果你懂编程，可以获取 API 密钥，把这个工作流集成到你自己的网站或 App 里。
  - 在“探索”中打开：和你常用的工作流一并放置在探索页面左侧的工作区，你能下次更快地使用它。
  - 发布为工具：将你当前的工作流打包成一个插件（你可以理解成工具），让它能被其他的 Agent 调用。

## 监测你的应用
作为邮件助理的创建者，我们需要时刻关注它运行的状态，我们能够通过日志和监测来了解应用的健康状况、潜在的性能瓶颈等。

### 上帝视角 — 监测（Monitor）
监测是你的指挥中心，你能在这里通过不同面板看到应用的表现。

| 名称       | 释义                                                     |
| -------- | ------------------------------------------------------ |
| 全部消息数    | AI 每天的互动总次数，每回答用户一个问题算一条消息。你能了解应用的实用热度。                |
| 活跃用户数    | 与AI 有效互动，即有一问一答以上的唯一用户数。提示词编排和调试的会话不计入。                |
| 费用消耗     | 反映每日该应用请求语言模型的 Tokens 花费，用于成本控制。当曲线出现突然的提升或减少，你需要进行检查。 |
| 平均用户调用次数 | 反映每天用户的使用次数。该指标反映了用户粘性。                                |


### 放大镜 - 日志（Logs)
日志记录了你的应用每次运行的详细记录，包括时间、输入内容、耗时等。
日志的作用
- 排查故障 (Debug)：当用户说“邮件助理用不了了”，你可以通过日志还原案发现场，找到是哪个节点出了问题。
- 优化性能：查看每个节点的耗时，找出拖慢整个流程的“瓶颈”。
- 理解用户：看看用户实际输入了什么内容，以此来不断优化你的 Prompt 或知识库。
- 监控成本：查看每次运行消耗了多少 Token，控制预算。


| 名称     | 释义                             |
| ------ | ------------------------------ |
| 开始时间   | 任务触发的时间                        |
| 状态     | Success （成功）；Failure （失败）      |
| 运行时间   | 整个流程花了多少时间                     |
| TOKENS | 这次运行消耗的 AI 算力 （Token 数）        |
| 用户或账户  | 用户 ID                          |
| 触发方式   | 是通过 WebApp 界面运行的，还是通过 API 调用的。 |


发布不是终点，而是新的起点，这就是 LLMOps （大语言模型运维）的核心理念。
- 观察 (Observe)：通过日志，看用户真的在问什么？AI 的回答用户满意吗？
- 分析 (Analyze)：发现有些问题 AI 回答得不好，或者某些工具调用经常失败。
- 优化 (Optimize)：回到画布，修改 Prompt，补充知识库，或者调整工作流逻辑。
- 发布 (Publish)：再次发布新版本。
通过上面的循环，你的 AI 邮件助理会变得越来越智能，越来越懂你的业务。

## 结束语
现在，你不仅掌握了 Dify 这个工具，更掌握了构建 AI 应用的思维方式：
把任务进行拆解 - 选择合适的节点、模型和工具去解决 - 将它们连接在一起 - 通过监测数据持续迭代

现在，你可以去 Dify 的探索页面里点开一个模版，进行拆解和分析。或者，从工作中的痛点出发，从空白的工作室开始，从零搭建一个属于你自己的工作流或者 AI 应用。

愿你使用 Dify，在 AI 时代下，工作更轻松，创造更自由。