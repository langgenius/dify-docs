---
title: "質問分類器"
description: "ワークフローパスをルーティングするためにユーザー入力をインテリジェントに分類"
icon: "sitemap"
---

<Note> ⚠️ このドキュメントはAIによって自動翻訳されています。不正確な部分がある場合は、[英語版](/en/use-dify/nodes/question-classifier)を参照してください。</Note>


質問分類器ノードは、ユーザー入力をインテリジェントに分類して、会話を異なるワークフローパスにルーティングします。複雑な条件ロジックを構築する代わりに、カテゴリを定義し、大規模言語モデルにセマンティック理解に基づいて最適なものを決定させます。

## 設定

### 入力とモデルセットアップ

**入力変数** - 分類する内容を選択します。通常はユーザーの質問に対して`sys.query`を使用しますが、前のワークフローノードからの任意のテキスト変数も使用できます。

**モデル選択** - 分類用の大規模言語モデルを選択します。高速なモデルは単純なカテゴリには適していますが、より強力なモデルは微妙な区別をより適切に処理できます。

<Frame caption="Question Classifier configuration interface">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/2f039c5ff3f095b0eed291101d9bff15.png" alt="Question Classifier setup" />
</Frame>

### カテゴリ定義

各カテゴリに属するものについての具体的な説明を含む、明確で説明的なラベルを作成します。大規模言語モデルが正確な決定を下せるよう、カテゴリ間の境界について正確に記述してください。

各カテゴリは潜在的な出力パスとなり、専門的な知識ベース、レスポンステンプレート、または処理ワークフローなど、異なる下流ノードに接続できます。

## 分類例

以下は、カスタマーサービスシナリオでの質問分類器の動作例です：

<Frame caption="Customer service classification workflow">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/2f06ecce149c844c23be70a8fcff09bc.png" alt="Customer service classification" />
</Frame>

**定義されたカテゴリ：**
- **アフターサービス** - 保証請求、返品、修理、購入後サポート
- **製品使用** - セットアップ手順、トラブルシューティング、機能説明  
- **その他の質問** - 特定のカテゴリでカバーされない一般的な問い合わせ

**分類結果：**
- "iPhone 14で連絡先を設定する方法は？" → **製品使用**
- "私の購入品の保証期間は何ですか？" → **アフターサービス**  
- "今日の天気はどうですか？" → **その他の質問**

各分類結果は異なる知識ベースと対応戦略にルーティングされ、ユーザーが関連性のある専門的な支援を受けられるようにします。

## 高度な設定

### 指示とガイドライン

**指示**フィールドに詳細な分類ガイドラインを追加して、エッジケース、曖昧なシナリオ、または特定のビジネスルールを処理します。これにより、大規模言語モデルがカテゴリ間の微妙な区別を理解できるようになります。

### メモリ統合

入力を分類する際に会話履歴を含めるために**メモリ**を有効にします。これにより、現在の入力が以前のコンテキストに依存する複数ターンの会話での精度が向上します。

**メモリウィンドウ**は、含める会話履歴の量を制御しト認識とトークン効率および処理速度のバランスを取ります。

## 出力使用

分類器は、一致したカテゴリラベルを含む`class_name`変数を出力します。この変数を下流ノードで以下の用途に使用します：

**条件分岐ルーティング** - 分類結果に基づいて異なるワークフローパスに接続

**知識ベース選択** - 各カテゴリ専用の知識ベースにルーティング

**レスポンスカスタマイゼーション** - 異なるレスポンステンプレートや処理ロジックを適用

**分析とログ記録** - カテゴリ全体でのユーザー問い合わせの分布を追跡

## ベストプラクティス

**明確なカテゴリ境界** - 分類精度を向上させるために、特定の説明を持つ明確で重複しないカテゴリを定義します。

**適切なモデル選択** - 分類の複雑さに基づいてモデルを選択します。単純な二項分類では高速なモデルで十分ですが、微妙な多カテゴリ分類にはより能力の高いモデルが必要な場合があります。

**エッジケースのテスト** - 複数のカテゴリに適合する可能性のある曖昧な入力での分類動作を検証します。

**会話コンテキストの使用** - 分類が以前のやり取りに依存する会話型アプリケーションではメモリを有効にします。

**監視と反復** - 分類結果をレビューし、実際の使用パターンに基づいてカテゴリ説明を改善します。
