---
title: 将 Dify 快速接入 QQ、微信、飞书、钉钉等平台
---

## 1. 概述

市面上有多种多样的 IM 平台，接入机器人的方法各不相同，使用难度也参差不齐，导致难以快速接入 Dify 等 LLMOps 平台，使用 Dify 的强大生态。而借助 [LangBot](https://github.com/RockChinQ/LangBot)，即可在短时间内将 Dify 接入到 QQ、微信、飞书、钉钉、Telegram、Discord、Slack 等平台提供服务。同时，LangBot 还提供扩展机制和丰富的生态，能更加灵活地满足需求。

## 2. 部署 LangBot

### 2.1. 部署 LangBot

你可以通过以下三种方式部署 LangBot：

1. Docker 部署：[对应链接](https://docs.langbot.app/zh/deploy/langbot/docker.html)
2. 手动部署：[对应链接](https://docs.langbot.app/zh/deploy/langbot/manual.html)
3. 使用宝塔面板部署：[对应链接](https://docs.langbot.app/zh/deploy/langbot/one-click/bt.html)

### 2.2. 对接消息平台

参考[此页面](https://docs.langbot.app/zh/deploy/platforms/readme.html)，选择你要用的消息平台，如 QQ、微信、飞书、钉钉、Telegram、Discord等。

## 3. 接入 Dify

LangBot 使用`流水线`控制对消息的处理。首次启动时，LangBot 会自动创建一个默认流水线，请到流水线配置页面，点击打开流水线配置。  
选择`AI 能力`页，将运行器切换成`Dify 服务 API`。

![](https://assets-docs.dify.ai/2025/05/6c5bdb9df53b2bb243c369f458222d2d.png)

在其中填写您的 Dify 服务的 API 接口地址、Dify 应用类型和 API Key，完成后即可在即时通信软件上与机器人对话。

使用工作流应用时，请使用`summary`作为键传回工作流运行结果。

![](https://assets-docs.dify.ai/2025/05/9c1c34feb27eab149ee78b706af25eee.png)

当使用工作流时，LangBot 会显式传入以下参数，您可以自行在 Dify 工作流的开始节点中添加：

- `user_message_text`：用户消息的纯文本
- `session_id`：用户会话id，私聊为 `person_<id>`，群聊为 `group_<id>`
- `conversation_id`：字符串，用户会话id，由 LangBot 生成。用户重置会话后，会重新生成
- `msg_create_time`：数字类型，收到此消息的时间戳（秒）

您可以[通过插件自定义任何变量](https://docs.langbot.app/zh/plugin/dev/api-ref.html#设置请求变量)

![](https://assets-docs.dify.ai/2025/05/3032be4f7d97bfbeba98217eb8aaf925.png)

- 详细的说明请查看 LangBot 文档

## 4. 效果展示

> 下面仅为微信和飞书的示例，其他平台如 QQ、钉钉、Telegram 等平台均可接入。

![](https://assets-docs.dify.ai/2025/03/88bfcb4e72ab852069d49104ad7aa51d.png)

![](https://assets-docs.dify.ai/2025/03/9682c62f9bcafcffb0b61c2b0f5a6cb1.png)

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

---

[编辑此页面](https://github.com/langgenius/dify-docs/edit/main/zh-hans/learn-more/use-cases/connect-dify-to-various-im-platforms-by-using-langbot.mdx) | [提交问题](https://github.com/langgenius/dify-docs/issues/new?template=docs.yml)

