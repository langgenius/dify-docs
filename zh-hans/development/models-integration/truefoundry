---
title: "与 TrueFoundry AI Gateway 集成"
---

TrueFoundry 提供企业级的 [AI Gateway](https://www.truefoundry.com/ai-gateway)，与 Dify 无缝集成，提供企业级 AI 功能，包括成本跟踪、安全防护和访问控制。

TrueFoundry 的 AI Gateway 通过网关路由所有 LLM 调用，确保您的 AI 应用程序安全、合规且具有成本效益。

## 前提条件

在将 Dify 与 TrueFoundry 集成之前，请确保您具备以下条件：

1. **TrueFoundry 账户**：创建 [TrueFoundry 账户](https://www.truefoundry.com/register) 并按照我们的 [Gateway 快速入门指南](https://docs.truefoundry.com/gateway/quick-start) 中的说明操作
2. **Dify 安装**：使用 [云端版本](https://dify.ai/) 或 [自托管部署](https://github.com/langgenius/dify) 的 Docker 设置 Dify

## 集成步骤

本指南假设您已安装并运行 Dify，并已获得 TrueFoundry AI Gateway 基础 URL 和身份验证令牌。


### 步骤 1：访问 Dify 模型供应商设置

1. 登录您的 Dify 工作空间（云端或自托管）。

2. 导航到**设置**并转到**模型供应商**：

<Frame>
  <img src="/images/model provider select diffy.png" />
</Frame>

### 步骤 2：安装 OpenAI-API-Compatible 供应商

1. 在模型供应商部分，查找 **OpenAI-API-compatible** 并点击**安装**。

2. 使用您的 TrueFoundry 详细信息配置 OpenAI-API-compatible 供应商：

<Frame>
  <img src="/images/open api diffy.png" />
</Frame>

填写以下配置：
- **模型名称**：输入您的 TrueFoundry 模型 ID（例如：`openai-main/gpt-4o`）
- **模型显示名称**：输入显示名称（例如：`Gpt-4o`）
- **API 密钥**：输入您的 TrueFoundry API 密钥
- **API 端点 URL**：输入您的 TrueFoundry Gateway 基础 URL（例如：`https://internal.devtest.truefoundry.tech/api/llm/api/inference/openai`）
- **API 端点的模型名称**：输入端点模型名称（例如：`openai-main/gpt-4o`）

<Frame>
  <img src="/images/new-code-snippet.png" />
</Frame>


### 步骤 3：保存并测试您的配置

1. 点击**保存**以在 Dify 中应用您的配置。

2. 创建新的应用程序或工作流来测试集成：

3. 通过创建简单的 LLM 工作流来测试集成，以验证 Dify 是否成功与 TrueFoundry 的 AI Gateway 通信。

<Frame>
  <img src="/images/result diffy.png" />
</Frame>

您的 Dify 工作空间现已与 TrueFoundry 的 AI Gateway 集成，可以开始构建 AI 应用程序、工作流和智能体了。

