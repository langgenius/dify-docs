---
title: "Workflow Automation Test - Fixed"
sidebarTitle: "Automation Test Fixed"
description: "Testing the fixed automatic translation workflow with manual dispatch support"
---

# Workflow Automation Test - Fixed Version

This document tests the **fixed** automatic translation workflow that now supports both automatic triggers and manual workflow dispatch.

## What Was Fixed

The Execute Documentation Sync workflow previously had a job condition that only worked for `workflow_run` events:

```yaml
# Before (broken for manual triggers)
if: github.event.workflow_run.conclusion == 'success'
```

Now it supports both trigger types:

```yaml
# After (works for both automatic and manual triggers)
if: |
  (github.event_name == 'workflow_run' && github.event.workflow_run.conclusion == 'success') ||
  github.event_name == 'workflow_dispatch'
```

## Test Scenarios

### 1. Automatic Workflow Trigger
When this PR is created, it should:
- âœ… Trigger the "Analyze Documentation Changes" workflow
- âœ… Categorize this as an English-only PR
- âœ… Automatically trigger "Execute Documentation Sync"
- âœ… Generate translations for Chinese and Japanese
- âœ… Create a separate translation PR

### 2. Manual Workflow Trigger
The workflow can now also be triggered manually:
```bash
gh workflow run sync_docs_execute.yml --ref revamp -f pr_number=<PR_NUMBER>
```

## Content for Translation Testing

### Features Overview
The Dify platform provides comprehensive AI application development capabilities including:

- **Workflow Orchestration**: Build complex AI workflows with visual node-based editor
- **Knowledge Management**: Integrate various data sources for enhanced context
- **Multi-language Support**: Automatic translation of documentation
- **API Integration**: RESTful APIs for seamless integration

### Code Example
```python
# Example: Simple AI workflow integration
import requests

def call_dify_workflow(api_key, workflow_id, inputs):
    """
    Call a Dify workflow via API
    """
    url = f"https://api.dify.ai/v1/workflows/{workflow_id}/run"
    headers = {
        "Authorization": f"Bearer {api_key}",
        "Content-Type": "application/json"
    }
    
    payload = {
        "inputs": inputs,
        "response_mode": "blocking"
    }
    
    response = requests.post(url, json=payload, headers=headers)
    return response.json()
```

### Workflow Benefits

<Note>
This automated translation system ensures that documentation updates are immediately available in multiple languages, reducing manual translation overhead and improving global accessibility.
</Note>

| Language | Status | Automation |
|----------|--------|------------|
| English | âœ… Source | Manual editing |
| Chinese (zh-hans) | ðŸ”„ Auto-translated | GitHub Actions |
| Japanese (ja-jp) | ðŸ”„ Auto-translated | GitHub Actions |

## Expected Outcomes

After creating this PR:

1. **Analysis Phase**: The workflow should detect English-only changes
2. **Translation Phase**: Auto-generate Chinese and Japanese versions
3. **PR Creation**: Create a linked translation PR
4. **Navigation Update**: Sync the docs.json structure

This validates that the workflow fix resolves the manual trigger issue while maintaining automatic functionality.

## Testing Instructions

1. Create this PR and monitor the automatic workflow execution
2. Verify the translation PR is created automatically
3. Test manual trigger functionality for debugging purposes

---

*This document serves as a comprehensive test for the fixed translation automation workflow.*