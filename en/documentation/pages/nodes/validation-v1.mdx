---
title: Validation V1
description: Final comprehensive validation of rename fix
---

# Validation V1

This is the final comprehensive test of the complete rename fix.

## What We're Validating

All three critical fixes working together:

1. **Extension Stripping (Location Lookup)** - Commit 8bf899c6
   - Strips `.mdx`/`.md` from `new_en_path` before looking up in `file_locations`
   - Prevents `location = None` that skipped docs.json updates

2. **Conditional Rename Detection** - Commit 532e97cf
   - Only skips rename detection if git actually found renames
   - Ensures reconcile handles R100 renames when `files_to_sync=[]`

3. **Extension Stripping (New Target)** - Commit b9489a0a
   - Strips extension from `new_target` before adding to docs.json
   - Prevents entries like `"cn/.../file.mdx"` (should be `"cn/.../file"`)

## Test Sequence

- **V1** (this file) â†’ Auto-sync creates cn/jp translations
- **V1 â†’ V2** â†’ Validates complete rename behavior
- **V2 â†’ V3** â†’ Validates consistency across multiple renames

## Expected Results

After each rename:
- âœ… Physical files: `cn/validation-*.mdx`, `jp/validation-*.mdx` renamed
- âœ… docs.json: `cn/.../validation-*`, `jp/.../validation-*` updated (no extensions)
- âœ… NO deletions of cn/jp entries
- âœ… Entries updated atomically with physical files

ðŸ¤– Final validation by Claude Code
